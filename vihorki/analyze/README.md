# –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–∞–Ω–Ω—ã–º

## üìä –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∏–∑–∏—Ç–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º. –°–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è "–±–ª—É–∂–¥–∞—é—â–∏–µ" —Å–µ—Å—Å–∏–∏ (wandering sessions).

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `visits` - –î–∞–Ω–Ω—ã–µ –æ –≤–∏–∑–∏—Ç–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–∞–π—Ç–µ/–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

#### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| **`visitId`** | Integer | **–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∏–∑–∏—Ç–∞/—Å–µ—Å—Å–∏–∏ |
| **`watchIDs`** | String | **–°–ø–∏—Å–æ–∫ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π** –∫ –¥–∞–Ω–Ω—ã–º –≤ —Ç–∞–±–ª–∏—Ü–µ `hits` –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å—Ç—Ä–æ–∫–∏: `"[id1,id2,id3]"` |
| **`dateTime`** | DateTime | –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≤–∏–∑–∏—Ç–∞ |
| **`isNewUser`** | Boolean | –§–ª–∞–≥ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **`startURL`** | String | URL –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∏–∑–∏—Ç–∞ |
| **`endURL`** | String | URL –∫–æ–Ω–µ—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∏–∑–∏—Ç–∞ |
| **`pageViews`** | Integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ –≤–∏–∑–∏—Ç |
| **`visitDuration`** | Integer | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–∑–∏—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| **`regionCity`** | String | –ì–æ—Ä–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **`clientID`** | String | **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–∏ —Å —Ç–∞–±–ª–∏—Ü–µ–π `hits` |
| **`lastSearchEngineRoot`** | String | –ü–æ—Å–ª–µ–¥–Ω—è—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ |
| **`deviceCategory`** | Integer | –ö–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `1` = –∫–æ–º–ø—å—é—Ç–µ—Ä, `2` = –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç |
| **`mobilePhone`** | String | –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø—É—Å—Ç–æ–µ, –µ—Å–ª–∏ –Ω–µ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ) |
| **`mobilePhoneModel`** | String | –ú–æ–¥–µ–ª—å –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø—É—Å—Ç–æ–µ, –µ—Å–ª–∏ –Ω–µ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ) |
| **`operatingSystem`** | String | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| **`browser`** | String | –ë—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **`screenFormat`** | String | –§–æ—Ä–º–∞—Ç —ç–∫—Ä–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `"16:9"`) |
| **`screenOrientationName`** | String | –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞: `"landscape"` (–∞–ª—å–±–æ–º–Ω–∞—è) –∏–ª–∏ `"portrait"` (–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è) |

### –¢–∞–±–ª–∏—Ü–∞ `hits` - –î–∞–Ω–Ω—ã–µ –æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö

–°–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–æ –≤—Ä–µ–º—è –≤–∏–∑–∏—Ç–∞.

#### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| **`watchID`** | String | **–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á** - —Å–≤—è–∑—å —Å –ø–æ–ª–µ–º `watchIDs` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `visits` |
| **`clientID`** | String | **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞** - —Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π `visits` |
| **`URL`** | String | URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–¥–µ–π—Å—Ç–≤–∏—è |
| **`dateTime_hit`** | DateTime | –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è |
| **`title`** | String | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

```
visits (1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ (many) hits
    ‚îÇ                      ‚îÇ
    ‚îú‚îÄ visitId (PK)        ‚îú‚îÄ watchID (FK) 
    ‚îî‚îÄ clientID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ clientID
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∏:**
- –û–¥–∏–Ω –≤–∏–∑–∏—Ç (`visitId`) –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π (`watchIDs`)
- –ö–∞–∂–¥—ã–π `watchID` –∏–∑ —Å–ø–∏—Å–∫–∞ –≤ `visits` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ `hits`
- –°–≤—è–∑—å –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ–ª–µ–π: `watchID` + `clientID`